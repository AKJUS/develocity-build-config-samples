plugins {
    id 'java-gradle-plugin'
    id 'maven-publish'
}

// CHANGE ME: change to your organization's group ID
group = 'com.myorg'
version = '1.0.0-SNAPSHOT'

repositories {
    gradlePluginPortal()
}

dependencies {
    implementation 'com.gradle:gradle-enterprise-gradle-plugin:3.6.3'
    implementation 'com.gradle:common-custom-user-data-gradle-plugin:1.4.1'
}

// TODO Needed?
gradlePlugin {
    plugins {
        gradleEnterpriseConvensions {
            // CHANGE ME: change for your organization
            id = 'com.myorg.gradle-enterprise-convensions'
            displayName = 'Gradle Enterprise Convension Plugin'
            description = 'A Gradle plugin to apply and configure the Gradle Enterprise Gradle plugin for com.myorg'
            implementationClass = 'com.myorg.GradleEnterpriseConventionsPlugin'
        }
    }
}


// TODO Needed?
tasks.withType(ValidatePlugins).configureEach {
    failOnWarning = true
    enableStricterValidation = true
}

publishing {
    repositories {
        maven {
            // change to point to your repo, e.g. http://my.org/repo
            url = layout.buildDirectory.dir("repo")
        }
    }
}

